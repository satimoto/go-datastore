// Code generated by sqlc. DO NOT EDIT.
// source: credential.sql

package db

import (
	"context"
	"time"
)

const createCredential = `-- name: CreateCredential :one
INSERT INTO credentials (
    client_token, 
    server_token, 
    url, 
    business_detail_id, 
    party_id, 
    country_code, 
    last_updated
  ) VALUES ($1, $2, $3, $4, $5, $6, $7)
  RETURNING id, client_token, server_token, url, business_detail_id, party_id, country_code, last_updated
`

type CreateCredentialParams struct {
	ClientToken      string    `db:"client_token" json:"clientToken"`
	ServerToken      string    `db:"server_token" json:"serverToken"`
	Url              string    `db:"url" json:"url"`
	BusinessDetailID int64     `db:"business_detail_id" json:"businessDetailID"`
	PartyID          string    `db:"party_id" json:"partyID"`
	CountryCode      string    `db:"country_code" json:"countryCode"`
	LastUpdated      time.Time `db:"last_updated" json:"lastUpdated"`
}

func (q *Queries) CreateCredential(ctx context.Context, arg CreateCredentialParams) (Credential, error) {
	row := q.db.QueryRowContext(ctx, createCredential,
		arg.ClientToken,
		arg.ServerToken,
		arg.Url,
		arg.BusinessDetailID,
		arg.PartyID,
		arg.CountryCode,
		arg.LastUpdated,
	)
	var i Credential
	err := row.Scan(
		&i.ID,
		&i.ClientToken,
		&i.ServerToken,
		&i.Url,
		&i.BusinessDetailID,
		&i.PartyID,
		&i.CountryCode,
		&i.LastUpdated,
	)
	return i, err
}

const deleteCredential = `-- name: DeleteCredential :exec
DELETE FROM credentials
  WHERE id = $1
`

func (q *Queries) DeleteCredential(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteCredential, id)
	return err
}

const getCredential = `-- name: GetCredential :one
SELECT id, client_token, server_token, url, business_detail_id, party_id, country_code, last_updated FROM credentials
  WHERE id = $1
`

func (q *Queries) GetCredential(ctx context.Context, id int64) (Credential, error) {
	row := q.db.QueryRowContext(ctx, getCredential, id)
	var i Credential
	err := row.Scan(
		&i.ID,
		&i.ClientToken,
		&i.ServerToken,
		&i.Url,
		&i.BusinessDetailID,
		&i.PartyID,
		&i.CountryCode,
		&i.LastUpdated,
	)
	return i, err
}

const getCredentialByPartyAndCountryCode = `-- name: GetCredentialByPartyAndCountryCode :one
SELECT id, client_token, server_token, url, business_detail_id, party_id, country_code, last_updated FROM credentials
  WHERE party_id = $1 AND country_code = $2
`

type GetCredentialByPartyAndCountryCodeParams struct {
	PartyID     string `db:"party_id" json:"partyID"`
	CountryCode string `db:"country_code" json:"countryCode"`
}

func (q *Queries) GetCredentialByPartyAndCountryCode(ctx context.Context, arg GetCredentialByPartyAndCountryCodeParams) (Credential, error) {
	row := q.db.QueryRowContext(ctx, getCredentialByPartyAndCountryCode, arg.PartyID, arg.CountryCode)
	var i Credential
	err := row.Scan(
		&i.ID,
		&i.ClientToken,
		&i.ServerToken,
		&i.Url,
		&i.BusinessDetailID,
		&i.PartyID,
		&i.CountryCode,
		&i.LastUpdated,
	)
	return i, err
}

const updateCredential = `-- name: UpdateCredential :one
UPDATE credentials SET (
    client_token, 
    server_token, 
    url, 
    party_id, 
    country_code,
    last_updated
  ) = ($2, $3, $4, $5, $6, $7)
  WHERE id = $1
  RETURNING id, client_token, server_token, url, business_detail_id, party_id, country_code, last_updated
`

type UpdateCredentialParams struct {
	ID          int64     `db:"id" json:"id"`
	ClientToken string    `db:"client_token" json:"clientToken"`
	ServerToken string    `db:"server_token" json:"serverToken"`
	Url         string    `db:"url" json:"url"`
	PartyID     string    `db:"party_id" json:"partyID"`
	CountryCode string    `db:"country_code" json:"countryCode"`
	LastUpdated time.Time `db:"last_updated" json:"lastUpdated"`
}

func (q *Queries) UpdateCredential(ctx context.Context, arg UpdateCredentialParams) (Credential, error) {
	row := q.db.QueryRowContext(ctx, updateCredential,
		arg.ID,
		arg.ClientToken,
		arg.ServerToken,
		arg.Url,
		arg.PartyID,
		arg.CountryCode,
		arg.LastUpdated,
	)
	var i Credential
	err := row.Scan(
		&i.ID,
		&i.ClientToken,
		&i.ServerToken,
		&i.Url,
		&i.BusinessDetailID,
		&i.PartyID,
		&i.CountryCode,
		&i.LastUpdated,
	)
	return i, err
}
